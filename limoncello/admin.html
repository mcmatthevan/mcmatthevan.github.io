<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="admin.css">
    <link rel="stylesheet" href="mbadapt.css">
    <link rel="shortcut icon" href="../palgania/images/logo2.png" type="image/png">
    <title>Limoncello</title>
    <script src="/scripts/checkdomain.js"></script>
</head>

<body>
    <div id="banner">
        <div id="divlogos"><img src="../palgania/images/logo2.png" alt=""><img src="img/Commission_modo.png" alt="">
        </div>
        <div id="divinst" class="hide_mobile">
            <p>Administration de Palgania</p>
            <p>Commission de Modération</p>
        </div>
        <div id="userbloc">
            <a href="index.html?page=home">Retourner à l'API</a>
        </div>
    </div>
    <div class="main">
        <div class="return_arrow"><a href="#">←</a></div>
        <h1>
            Interface d'administration Limoncello
        </h1>
        <section id="deleg">
            <h1>Délégations de fonctions</h1>
            <form id="delegform">
                <table>
                    <tr>
                        <td>Pseudo du joueur</td><td>:</td>
                        <td><input type="text" id="deleg_pseudo" required></td>
                    </tr>
                    <tr>
                        <td>Fonctions à déléguer</td><td>:</td>
                        <td><input type="checkbox"  value="procedure.new" class="deleg_perm" id="deleg_perm0"><label for="deleg_perm0">Ouvrir des procédures</label><br>
                            <input type="checkbox" value="procedure.close" class="deleg_perm" id="deleg_perm1"><label for="deleg_perm1">Clore des procédures et signer les PV de procédure</label>
                        </td>
                    </tr>
                    <tr>
                        <td>Valable jusqu'au</td>
                        <td>:</td>
                        <td><input type="date" id="deleg_expire" value="today" max="2022-06-26" required> inclus</td>
                    </tr>
                </table>
                <input type="submit" value="OK">
                <p class="error"></p>
                <p class="info"></p>
            </form>
        </section>
        <section id="crvgen">
            <h2>Créer un compte-rendu de vote</h2>
            <form id="crvgen_form">
                <table>
                    <tr>
                        <td class="tag"><label for="crvgen_subject">Objet du vote</label></td><td>:</td><td><input required type="text" id="crvgen_subject"></td>
                    </tr>
                    <tr>
                        <td class="tag"><label for="crvgen_registered">Inscrits</label></td><td>:</td><td><input required type="text" id="crvgen_registered" placeholder="Ex: Joueurs du serveur"></td>
                    </tr>
                    <tr>
                        <td class="tag"><label for="crvgen_modalities">Modalités</label></td><td>:</td><td><input required type="text" id="crvgen_modalities" placeholder="Ex: Vote via bot discord"></td>
                    </tr>
                    <tr>
                        <td class="tag"><label for="crvgen_date">Date de déroulement du vote</label></td><td>:</td><td><input required type="date" id="crvgen_date" value="today" max="today"></td>
                    </tr>
                    <tr><td class="tag">Votes</td><td>:</td><td><table id="crv_vote">
                        <th><td class="tag">Choix</td><td class="tag">Nombre de votes</td></th>
                        <tr id="crvgen_add"><td colspan="3">⨁</td></tr>
                    </table></td></tr>
                    <tr><td colspan="3"><input type="checkbox" required id="crv_check"><label for="crv_check">Je, soussigné(e), certifie l’exactitude des informations étayées dans le présent compte-rendu.</label></td></tr>
                    <tr><td colspan="3"><input type="submit" value="Publier"></td></tr>
                    <tr class="p_info"></tr>
                    <tr class="error"></tr>
                </table>
            </form>
        </section>
        <section id="confirmSign">
            <h2>Ecrivez votre mot de passe pour confirmer la signature.</h2>
            <form>
                <input type="password" id="cfs_password"/><br/>
                <input type="submit" value="OK">
                <p class="info"></p>
                <p class="error"></p>
            </form>
        </section>
        <section id="submissions">
            <h2>Liste des candidatures en attente : </h2>
            <table>
                <tr>
                    <td class="tag">Joueur</td><td class="tag">Avis administration</td><td class="tag">Avis modération</td>
                </tr>
            </table>
            <div id="subm_disp"></div>
        </section>
        <section id="home">
            <div class="home_link" id="hl_users"><a href="?page=usermanage">Gestion des utilisateurs</a></div>
            <div class="home_link" id="hl_acts"><a href="?page=reg_home">Gérer les actes administratifs</a></div>
            <div class="home_link" id="hl_subm"><a href="?page=submissions">Gérer les candidatures</a></div>
            <div class="home_link" id="hl_crvgen"><a href="?page=crvgen">Créer un compte-rendu de vote</a></div>
            <div class="home_link" id="hl_deleg"><a href="?page=deleg">Créer une délégation de fonctions</a></div>
        </section>
        <section id="reg_home">
            <h2>Gestion des actes administratifs</h2>
            <div class="home_link"><a href="?page=reg_new">⊕ Nouveau</a></div>
            <div id="reg_home_list">
                <hr>
                <h3>Brouillons enregistrés localement</h3>
                <table><tr><td class="tag">ID</td><td class="tag">Titre</td><td class="tag">Supprimer</td><td class="tag">Exporter</td></tr></table>
            </div>
            <div id="reg_home_import">
                <hr>
                <h3>Importer un brouillon</h3>
                <input type="file" id="reg_import_input"/>
            </div>
        </section>
        <section id="reg_new">
            <form action="" id="rgn_form">
                <table id="regnewtable">
                    <tbody>
                        <tr><td class="end tag"><label for="rgn_type">Type</label></td><td>:</td><td><select class="rgn" id="rgn_type" required>
                            <option value="" selected></option>
                        </select></td></tr>
                    </tbody>
                    <tbody id="rgn_tbody">
                        <tr><td colspan="3"><hr/></td></tr>
                        <tr><td class="end tag"><label for="rgn_title">Titre</label></td><td>:</td><td><span id="rgn_sttitle"></span><input required type="text" id="rgn_title" class="rgn" placeholder="portant nomination.../fixant les modalités.../modifiant.../..."/></td></tr>
                        <tr class='rgn_notprop'><td class="end tag"><label for="rgn_dispos">Contexte</label></td><td>:</td><td><textarea required id="rgn_dispos" placeholder="Ex:&#10;Vu l'article 6 du R.I.O.R.,&#10;Considérant le compte rendu de vote n°X,&#10;Après délibération de l'équipe d'administration,&#10;..."></textarea></td></tr>
                        <tr><td colspan="3"><hr/><h2>Contenu :</h2></td></tr>
                        <tr><td class="end tag"><label for="rgn_preamble">Préambule (facultatif)</label></td><td>:</td><td><textarea class="rgn" id="rgn_preamble"></textarea></td></tr>
                        <tr id="rgn_insert"><td id="rgn_addtitle" class="rgn_add" colspan="3">⊕Ajouter un titre</td></tr>
                        <tr><td id="rgn_addarticle" class="rgn_add" colspan="3">⊕Ajouter un article</td></tr>
                        <tr><td colspan="3"><hr/><h2>Signatures :</h2></td></tr>
                        <tr id="rgn_insert2"><td id="rgn_addsign" class="rgn_add" colspan="3">⊕Ajouter un contre-signataire</td></tr>
                        <tr><td colspan="3"><hr/><h2>Portée exécutoire :</h2></td></tr>
                        <tr id="rgn_insert3"><td id="rgn_addexec" class="rgn_add" colspan="3">⊕Ajouter une modification d'un acte règlementaire existant</td></tr>
                        <tr><td colspan="3"><hr>
                            <div id="rgn_preview_bloc"><h2>Prévisualisation</h2><p>Veuillez patienter</p></div>
                            <input type="button" value="Enregistrer" id="rgn_save"/><input type="submit" value="Prévisualiser" id="rgn_preview"/>
                            <input type="submit" value="Valider/Publier" id="rgn_publy"/></td></tr>
                    </tbody>
                </table>
            </form>
            
        </section>
        <section id='usermanage'>
            <table id='userlist'>
                <tr>
                    <td class='tag'>Utilisateur</td><td class='tag'>Email</td><td class='tag'>N° ID Discord</td><td class='tag'>Rôle</td><td class="tag">Attributs</td><td class="tag">Permissions</td><td class="tag">Accès console</td>
                </tr>
            </table>
        </section>
        <section id="usernew">
            <h2>Nouvel utilisateur</h2>
            <form id='form_newuser'>
                <label for="nwu_pseudo">Pseudo : </label><input type='text' id='nwu_pseudo' required/><br/>
                <label for="nwu_title">Rôle : </label><input type='text' id='nwu_title' placeholder="Ex : Modérateur" required/><br/>
                <label for="nwu_email">Email : </label><input type='text' id='nwu_email' required/><br/>
                <label for="nwu_perms">Permissions : </label><textarea type='text' id='nwu_perms' required>Group.base</textarea><br/>
                <p class='p_info'>Séparer les permissions par des points virgules (;)</p>
                <label for="nwu_sendmail">Envoyer un mail contenant les identifiants : </label><input id="nwu_sendmail" type="checkbox" checked><br/>
                <input type="submit" value="OK"><br/>
                <p id='p_error'></p>
                <p id='p_info'></p>
            </form>
        </section>
        <div id="display_section"></div>
    </div>
    <script src="https://code.jquery.com/jquery.min.js"></script>
    <script src="functions.js"></script>
    <script src="admin.js"></script>
</body>

</html>
